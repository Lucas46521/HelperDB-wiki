
---
title: find
description: Encontra o primeiro elemento em um array que satisfaz uma condi√ß√£o
---

# find()

Encontra e retorna o primeiro elemento em um array que satisfaz a fun√ß√£o de teste fornecida. Se nenhum elemento satisfizer a condi√ß√£o, retorna `undefined`.

## Sintaxe

```typescript
await db.find(key: string, callback: function): Promise<any>
```

## Par√¢metros

- `key` (obrigat√≥rio): Chave do array onde buscar
- `callback` (obrigat√≥rio): Fun√ß√£o de teste que recebe (element, index, array)

## Retorno

O primeiro elemento que satisfaz a condi√ß√£o ou `undefined` se nenhum for encontrado.

## Exemplos

### Buscar em Array de Objetos

```javascript
await db.set('users', [
  { id: 1, name: 'Jo√£o', age: 25, active: true },
  { id: 2, name: 'Maria', age: 30, active: false },
  { id: 3, name: 'Pedro', age: 35, active: true }
]);

// Encontrar primeiro usu√°rio ativo
const activeUser = await db.find('users', user => user.active);
console.log(activeUser);
// { id: 1, name: 'Jo√£o', age: 25, active: true }

// Encontrar usu√°rio por ID
const userById = await db.find('users', user => user.id === 2);
console.log(userById);
// { id: 2, name: 'Maria', age: 30, active: false }

// Encontrar usu√°rio maior que 30 anos
const olderUser = await db.find('users', user => user.age > 30);
console.log(olderUser);
// { id: 3, name: 'Pedro', age: 35, active: true }
```

### Buscar em Array de N√∫meros

```javascript
await db.set('numbers', [1, 5, 8, 12, 15, 20]);

// Encontrar primeiro n√∫mero par
const firstEven = await db.find('numbers', num => num % 2 === 0);
console.log(firstEven); // 8

// Encontrar primeiro n√∫mero maior que 10
const firstLarge = await db.find('numbers', num => num > 10);
console.log(firstLarge); // 12

// Buscar n√∫mero que n√£o existe
const notFound = await db.find('numbers', num => num > 100);
console.log(notFound); // undefined
```

### Buscar Produto por Crit√©rios

```javascript
await db.set('products', [
  { id: 1, name: 'Notebook', price: 2500, category: 'Electronics', inStock: true },
  { id: 2, name: 'Mouse', price: 50, category: 'Electronics', inStock: false },
  { id: 3, name: 'Chair', price: 300, category: 'Furniture', inStock: true }
]);

// Encontrar produto dispon√≠vel em estoque
const availableProduct = await db.find('products', product => product.inStock);
console.log(availableProduct.name); // 'Notebook'

// Encontrar produto da categoria Furniture
const furniture = await db.find('products', product => product.category === 'Furniture');
console.log(furniture.name); // 'Chair'

// Encontrar produto em faixa de pre√ßo
const affordableProduct = await db.find('products', product => 
  product.price >= 100 && product.price <= 500
);
console.log(affordableProduct.name); // 'Chair'
```

## Casos de Uso

### üîç **Busca de Registros**
```javascript
// Encontrar pedido por status
const pendingOrder = await db.find('orders', order => order.status === 'pending');

// Encontrar primeiro erro cr√≠tico
const criticalError = await db.find('logs', log => log.level === 'error');
```

### üéØ **Valida√ß√£o de Dados**
```javascript
// Verificar se existe usu√°rio com email espec√≠fico
const existingUser = await db.find('users', user => user.email === 'joao@email.com');
if (existingUser) {
  console.log('Email j√° cadastrado');
}
```

### üìã **Busca em Configura√ß√µes**
```javascript
// Encontrar configura√ß√£o ativa
const activeConfig = await db.find('configs', config => config.active);

// Encontrar primeiro item expirado
const expiredItem = await db.find('cache', item => item.expiry < Date.now());
```

## Caracter√≠sticas Importantes

### ‚úÖ **Busca Eficiente**
- Para na primeira ocorr√™ncia encontrada
- N√£o processa o array inteiro desnecessariamente
- Ideal para busca de registros √∫nicos

### üîÑ **Fun√ß√£o de Callback Flex√≠vel**
- Acesso completo ao elemento, √≠ndice e array
- Suporta qualquer l√≥gica de compara√ß√£o
- Pode usar fun√ß√µes arrow ou tradicionais

### üõ°Ô∏è **Tratamento Seguro**
- Retorna `undefined` se nada for encontrado
- Valida√ß√£o de tipos dos par√¢metros
- N√£o modifica o array original

## Valida√ß√£o e Erros

```javascript
// ‚ùå Erro: Chave deve ser string
try {
  await db.find(123, item => item.active);
} catch (error) {
  console.log(error.message); // "First argument (key) needs to be a string"
}

// ‚ùå Erro: Callback deve ser fun√ß√£o
try {
  await db.find('users', 'not a function');
} catch (error) {
  console.log(error.message); // "Second argument (callback) needs to be a function"
}

// ‚úÖ Array n√£o existe - retorna undefined
const result = await db.find('nonexistent', item => true);
console.log(result); // undefined
```

## M√©todos Relacionados

- [`filter()`](./filter.mdx) - Encontra todos os elementos que satisfazem a condi√ß√£o
- [`every()`](./every.mdx) - Verifica se todos os elementos satisfazem a condi√ß√£o  
- [`some()`](./some.mdx) - Verifica se algum elemento satisfaz a condi√ß√£o
- [`includes()`](./includes.mdx) - Verifica se array cont√©m um valor espec√≠fico
- [`indexOf()`](./indexof.mdx) - Encontra o √≠ndice de um elemento

## Dicas de Performance

```javascript
// ‚úÖ Use find para buscar registros √∫nicos
const user = await db.find('users', u => u.id === targetId);

// ‚úÖ Combine com outras opera√ß√µes
if (await db.find('users', u => u.email === email)) {
  // Email j√° existe, n√£o cadastrar
}

// ‚úÖ Use para valida√ß√µes r√°pidas
const hasActiveSession = await db.find('sessions', s => s.active && s.userId === userId);
```
