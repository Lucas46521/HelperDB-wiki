
---
title: Database
description: The main Database class for Helper.db
---

import { MethodSignature } from '../../../components/MethodSignature';
import { CodeExample } from '../../../components/CodeExample';
import { Badge } from '../../../components/ui/badge';

# Database

The `Database` class is the core of Helper.db, providing all the essential methods for database operations.

## Constructor

<MethodSignature
  name="new Database"
  parameters={[
    {
      name: "path",
      type: "string",
      description: "The file path where the database will be stored"
    },
    {
      name: "options",
      type: "DatabaseOptions",
      optional: true,
      description: "Optional configuration for the database"
    }
  ]}
  returnType="Database"
  description="Creates a new Database instance with the specified file path and options."
/>

<CodeExample
  title="Creating a Database Instance"
  code={`const { Database } = require('helper.db');

// Basic usage
const db = new Database('./data.json');

// With options
const db = new Database('./data.json', {
  autoWrite: true,
  writeInterval: 5000,
  backup: true
});`}
/>

## Methods

### get()

<MethodSignature
  name="get"
  parameters={[
    {
      name: "key",
      type: "string",
      description: "The key to retrieve the value for"
    },
    {
      name: "defaultValue",
      type: "any",
      optional: true,
      description: "Default value to return if key doesn't exist"
    }
  ]}
  returnType="Promise<any>"
  isAsync={true}
  description="Retrieves a value from the database by its key. Supports dot notation for nested objects."
/>

<CodeExample
  title="Getting Values"
  code={`// Get a simple value
const name = await db.get('user.name');

// Get with default value
const age = await db.get('user.age', 0);

// Get nested object
const settings = await db.get('user.settings.theme');`}
/>

### set()

<MethodSignature
  name="set"
  parameters={[
    {
      name: "key",
      type: "string",
      description: "The key to set the value for"
    },
    {
      name: "value",
      type: "any",
      description: "The value to store"
    }
  ]}
  returnType="Promise<boolean>"
  isAsync={true}
  description="Sets a value in the database. Creates nested objects automatically when using dot notation."
/>

<CodeExample
  title="Setting Values"
  code={`// Set a simple value
await db.set('user.name', 'John Doe');

// Set nested values
await db.set('user.settings.theme', 'dark');

// Set complex objects
await db.set('user.preferences', {
  notifications: true,
  language: 'en'
});`}
/>

### has()

<MethodSignature
  name="has"
  parameters={[
    {
      name: "key",
      type: "string",
      description: "The key to check for existence"
    }
  ]}
  returnType="Promise<boolean>"
  isAsync={true}
  description="Checks if a key exists in the database."
/>

<CodeExample
  title="Checking Key Existence"
  code={`// Check if a key exists
const userExists = await db.has('user.123');

if (userExists) {
  console.log('User exists!');
} else {
  console.log('User not found');
}`}
/>

### delete()

<MethodSignature
  name="delete"
  parameters={[
    {
      name: "key",
      type: "string",
      description: "The key to delete from the database"
    }
  ]}
  returnType="Promise<boolean>"
  isAsync={true}
  description="Deletes a key and its value from the database. Returns true if the key existed and was deleted."
/>

<CodeExample
  title="Deleting Keys"
  code={`// Delete a specific key
await db.delete('user.123.temporaryData');

// Delete entire user object
await db.delete('user.123');`}
/>

### clear()

<MethodSignature
  name="clear"
  parameters={[]}
  returnType="Promise<boolean>"
  isAsync={true}
  description="Clears all data from the database."
/>

<CodeExample
  title="Clearing Database"
  code={`// Clear all data
await db.clear();
console.log('Database cleared!');`}
/>

### all()

<MethodSignature
  name="all"
  parameters={[
    {
      name: "limit",
      type: "number",
      optional: true,
      description: "Maximum number of entries to return"
    }
  ]}
  returnType="Promise<Array<{key: string, value: any}>>"
  isAsync={true}
  description="Returns all key-value pairs in the database as an array of objects."
/>

<CodeExample
  title="Getting All Data"
  code={`// Get all data
const allData = await db.all();
console.log(allData);
// Output: [{ key: 'user.123.name', value: 'John' }, ...]

// Get limited data
const limitedData = await db.all(10);`}
/>

## Properties

### size

<MethodSignature
  name="size"
  parameters={[]}
  returnType="Promise<number>"
  isAsync={true}
  description="Returns the number of top-level keys in the database."
/>

<CodeExample
  title="Getting Database Size"
  code={`const size = await db.size;
console.log(\`Database has \${size} entries\`);`}
/>

## Advanced Usage

### Dot Notation

Helper.db supports dot notation for working with nested objects:

<CodeExample
  title="Working with Nested Objects"
  code={`// Set nested values
await db.set('guild.123.settings.prefix', '!');
await db.set('guild.123.settings.autoRole', true);

// Get nested values
const prefix = await db.get('guild.123.settings.prefix');
const settings = await db.get('guild.123.settings');

// Check nested keys
const hasAutoRole = await db.has('guild.123.settings.autoRole');`}
/>

### Working with Arrays

<CodeExample
  title="Array Operations"
  code={`// Initialize array
await db.set('users', []);

// Add to array
const users = await db.get('users', []);
users.push({ id: 123, name: 'John' });
await db.set('users', users);

// Or use helper methods (if available)
await db.push('users', { id: 456, name: 'Jane' });`}
/>
